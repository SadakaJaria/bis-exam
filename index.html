<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ù…Ø­Ø§ÙƒÙŠ Ù†Ø¸Ù… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØµØ±ÙÙŠØ©</title>
  <link rel="manifest" href="manifest.json">

  <!-- Icons (Font Awesome) -->
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <style>
    :root{
      --bg0:#070A10;
      --bg1:#0B1220;
      --card:#0E172A;
      --card2:#0B1324;
      --stroke:rgba(255,255,255,.10);
      --text:#EAF0FF;
      --muted:rgba(234,240,255,.72);
      --gold:#C9A227;
      --gold2:#F6D36B;
      --blue:#2A6DF5;
      --good:#29D391;
      --warn:#F5C542;
      --bad:#FF5A6B;
      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --radius: 18px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui,-apple-system,"Segoe UI",Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 900px at 15% 15%, rgba(42,109,245,.22), transparent 60%),
        radial-gradient(900px 700px at 85% 10%, rgba(201,162,39,.18), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      min-height:100vh;
    }

    header{
      padding: 16px 16px 10px;
      position: sticky; top:0;
      backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(7,10,16,.92), rgba(7,10,16,.55));
      border-bottom:1px solid rgba(255,255,255,.06);
      z-index:10;
    }

    .topbar{
      max-width: 920px;
      margin: 0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      min-width: 0;
    }
    .logo{
      width:40px; height:40px;
      border-radius: 14px;
      background:
        radial-gradient(18px 18px at 30% 30%, rgba(246,211,107,.65), transparent 70%),
        radial-gradient(26px 26px at 70% 70%, rgba(42,109,245,.35), transparent 70%),
        linear-gradient(135deg, rgba(201,162,39,.25), rgba(42,109,245,.18));
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 10px 18px rgba(0,0,0,.35);
      display:grid;
      place-items:center;
    }
    .logo i{ color: var(--gold2); font-size:18px; }

    .titlewrap{min-width:0}
    .title{
      font-weight: 800;
      letter-spacing:.2px;
      font-size: 16px;
      line-height: 1.2;
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
    }
    #sub{
      font-size: 13px;
      color: var(--muted);
      margin-top: 2px;
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
    }

    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.10);
      color: var(--muted);
      font-size: 13px;
      white-space:nowrap;
    }
    .chip i{ color: var(--gold2); }

    main{
      max-width: 920px;
      margin: 0 auto;
      padding: 16px;
    }

    .card{
      background: linear-gradient(180deg, rgba(14,23,42,.92), rgba(11,19,36,.92));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px;
      margin: 14px 0;
      overflow:hidden;
      position: relative;
    }

    .card::before{
      content:"";
      position:absolute; inset:-1px;
      background: radial-gradient(600px 220px at 20% 0%, rgba(42,109,245,.16), transparent 65%),
                  radial-gradient(520px 200px at 85% 0%, rgba(201,162,39,.12), transparent 65%);
      pointer-events:none;
      opacity:.9;
    }
    .card > *{ position: relative; }

    .grid3{
      display:grid;
      grid-template-columns: 1.2fr 1fr 1fr;
      gap: 12px;
    }
    @media(max-width: 820px){
      .grid3{ grid-template-columns: 1fr; }
    }

    label{
      display:flex;
      align-items:center;
      gap:8px;
      font-size: 13px;
      color: var(--muted);
      margin: 6px 0;
    }

    .field{
      position: relative;
    }
    select,input{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color: var(--text);
      font-size: 16px;
      outline:none;
    }
    select:focus,input:focus{
      border-color: rgba(246,211,107,.55);
      box-shadow: 0 0 0 4px rgba(201,162,39,.18);
    }

    .toggles{
      display:flex; flex-wrap:wrap;
      gap: 10px 14px;
      margin-top: 8px;
    }
    .toggle{
      display:flex; align-items:center; gap:10px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.10);
      color: var(--muted);
      font-size: 14px;
    }
    .toggle input{ width:auto; transform: scale(1.15); accent-color: var(--gold); }

    .actions{
      display:flex; flex-wrap:wrap; gap:10px;
      margin-top: 12px;
      align-items:center;
    }
    button{
      border:0;
      border-radius: 16px;
      padding: 12px 14px;
      font-size: 15px;
      cursor:pointer;
      transition: transform .08s ease, opacity .2s ease, box-shadow .2s ease;
    }
    button:active{ transform: translateY(1px); }

    .btn{
      color: #0B0F16;
      background: linear-gradient(135deg, var(--gold2), var(--gold));
      box-shadow: 0 12px 25px rgba(201,162,39,.18);
      font-weight: 800;
    }
    .btn i{ margin-left: 8px; }
    .btn:hover{ box-shadow: 0 16px 32px rgba(201,162,39,.22); }

    .btn2{
      color: var(--text);
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
    }
    .btn2:hover{ opacity:.92; }

    .note{
      margin-top: 10px;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.7;
      display:flex;
      gap:10px;
      align-items:flex-start;
    }
    .note i{ color: var(--gold2); margin-top: 2px; }

    /* Exam */
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.10);
      color: var(--muted);
      font-size: 13px;
      margin-left: 6px;
    }
    .pill i{ color: var(--gold2); }

    .examTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      flex-wrap:wrap;
    }

    .timerRing{
      width: 62px; height: 62px;
      border-radius: 999px;
      display:grid;
      place-items:center;
      border: 1px solid rgba(255,255,255,.12);
      background:
        radial-gradient(circle at 30% 30%, rgba(42,109,245,.22), transparent 60%),
        radial-gradient(circle at 70% 70%, rgba(201,162,39,.18), transparent 60%),
        rgba(255,255,255,.03);
      box-shadow: 0 10px 22px rgba(0,0,0,.35);
    }
    #timer{
      font-weight: 900;
      font-size: 16px;
      letter-spacing:.5px;
    }

    #qText{
      margin-top: 10px;
      font-size: 18px;
      font-weight: 800;
      line-height: 1.6;
    }

    .opt{
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      border-radius: 16px;
      padding: 12px 12px;
      margin: 10px 0;
      cursor:pointer;
      transition: transform .06s ease, border-color .2s ease, background .2s ease;
    }
    .opt:hover{
      background: rgba(255,255,255,.05);
      transform: translateY(-1px);
    }
    .opt.sel{
      border-color: rgba(246,211,107,.65);
      background: rgba(201,162,39,.12);
    }

    .examActions{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top: 12px;
    }
    .finish{
      margin-inline-start:auto;
      background: linear-gradient(135deg, rgba(42,109,245,.95), rgba(42,109,245,.65));
      color: white;
      border:1px solid rgba(255,255,255,.10);
      font-weight: 800;
      box-shadow: 0 12px 25px rgba(42,109,245,.18);
    }

    /* Result */
    .kpi{
      font-size: 30px;
      font-weight: 950;
      letter-spacing:.3px;
    }
    .resultGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    @media(max-width: 700px){
      .resultGrid{ grid-template-columns: 1fr; }
    }

    .small{
      color: var(--muted);
      font-size: 13px;
      line-height: 1.6;
    }

    /* keep existing IDs compatibility */
  </style>
</head>

<body>
  <header>
    <div class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"><i class="fa-solid fa-building-columns"></i></div>
        <div class="titlewrap">
          <div class="title">Ù…Ø­Ø§ÙƒÙŠ Ù†Ø¸Ù… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØµØ±ÙÙŠØ©</div>
          <div id="sub">ØªØ­Ù…ÙŠÙ„ Ø¨Ù†Ùƒ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©...</div>
        </div>
      </div>

      <div class="chip" title="ÙŠØ¹Ù…Ù„ Ø£ÙˆÙÙ„Ø§ÙŠÙ† Ø¨Ø¹Ø¯ Ø£ÙˆÙ„ ÙØªØ­">
        <i class="fa-solid fa-wifi"></i>
        ÙŠØ¹Ù…Ù„ Ø£ÙˆÙÙ„Ø§ÙŠÙ†
      </div>
    </div>
  </header>

  <main>
    <!-- Setup -->
    <div class="card" id="setup">
      <div class="grid3">
        <div class="field">
          <label><i class="fa-solid fa-layer-group"></i> Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø©</label>
          <select id="lectureSel"></select>
        </div>

        <div class="field">
          <label><i class="fa-solid fa-list-ol"></i> Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</label>
          <input id="countInp" type="number" min="1" value="20" />
        </div>

        <div class="field">
          <label><i class="fa-solid fa-clock"></i> Ø§Ù„ÙˆÙ‚Øª</label>
          <select id="timeSel">
            <option value="15">15 Ø¯Ù‚ÙŠÙ‚Ø©</option>
            <option value="30">30 Ø¯Ù‚ÙŠÙ‚Ø©</option>
            <option value="45">45 Ø¯Ù‚ÙŠÙ‚Ø©</option>
          </select>
        </div>
      </div>

      <div class="toggles">
        <div class="toggle"><input type="checkbox" id="shuffleQ" checked> <span>ğŸ”€ Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</span></div>
        <div class="toggle"><input type="checkbox" id="shuffleO" checked> <span>ğŸ² Ø®Ù„Ø· Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª</span></div>
        <div class="toggle"><input type="checkbox" id="redoWrong" checked disabled> <span>ğŸ” Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØºÙ„Ø· ØªÙ„Ù‚Ø§Ø¦ÙŠ (Ù…ÙØ¹Ù‘Ù„)</span></div>
      </div>

      <div class="actions">
        <button class="btn" id="startBtn"><i class="fa-solid fa-play"></i> Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†</button>
        <button class="btn2" id="resetBtn"><i class="fa-solid fa-eraser"></i> Ù…Ø³Ø­ Ø§Ù„ØªØªØ¨Ø¹</button>
      </div>

      <div class="note">
        <i class="fa-solid fa-circle-info"></i>
        <div>
          ÙŠÙ…Ø±Ù‘ Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¹Ø¨Ø± Ø¬Ù„Ø³Ø§Øª Ø¨Ù†Ø¸Ø§Ù… <b>Coverage</b> (Ù…Ø§ ÙŠØ¹ÙŠØ¯ Ù†ÙØ³ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¥Ù„Ø§ Ø¨Ø¹Ø¯ Ù…Ø§ ÙŠÙ„Ù Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø§Ù‚ÙŠ).
          <div class="small">ØªÙ„Ù…ÙŠØ­: Ø¨Ø¹Ø¯ Ø£ÙˆÙ„ ÙØªØ­ Ù…Ù† GitHub PagesØŒ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ´ØªØºÙ„ Ø£ÙˆÙÙ„Ø§ÙŠÙ†.</div>
        </div>
      </div>
    </div>

    <!-- Exam -->
    <div class="card" id="exam" style="display:none">
      <div class="examTop">
        <div>
          <span class="pill" id="pillLecture"><i class="fa-solid fa-book"></i> </span>
          <span class="pill" id="pillProg"><i class="fa-solid fa-hashtag"></i> </span>
        </div>

        <div class="timerRing" title="Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ">
          <div id="timer">00:00</div>
        </div>
      </div>

      <div id="qText"></div>
      <div id="opts"></div>

      <div class="examActions">
        <button class="btn2" id="prevBtn"><i class="fa-solid fa-arrow-right"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
        <button class="btn2" id="nextBtn">Ø§Ù„ØªØ§Ù„ÙŠ <i class="fa-solid fa-arrow-left"></i></button>
        <button class="finish" id="finishBtn"><i class="fa-solid fa-flag-checkered"></i> Ø¥Ù†Ù‡Ø§Ø¡</button>
      </div>

      <div class="small" id="hint" style="margin-top:10px"></div>
    </div>

    <!-- Result -->
    <div class="card" id="result" style="display:none"></div>
  </main>

  <script src="app.js"></script>
  <script>
    if ("serviceWorker" in navigator) navigator.serviceWorker.register("sw.js");
  </script>
</body>
</html>
